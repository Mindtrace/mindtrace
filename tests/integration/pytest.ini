[tool:pytest]
# Pytest configuration for integration tests

# Test discovery
testpaths = tests/integration
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Markers for different test types
markers =
    integration: Integration tests that require external services
    gcp: Tests that require Google Cloud Platform
    minio: Tests that require MinIO server
    local: Tests that only require local filesystem
    slow: Tests that take a long time to run
    registry: mark test as registry test

# Test collection
collect_ignore = setup.py,conftest.py

# Output options
addopts = 
    -v
    --tb=short
    --strict-markers
    --disable-warnings

# Environment variables for tests
env = 
    GCP_PROJECT_ID = mindtrace-test
    GOOGLE_APPLICATION_CREDENTIALS = 
    MINDTRACE_MINIO__MINIO_ENDPOINT = localhost:9000
    MINDTRACE_MINIO__MINIO_ACCESS_KEY = minioadmin
    MINDTRACE_MINIO__MINIO_SECRET_KEY = minioadmin
    MINIO_SECURE = 0

# Note: Tests will use config.ini values as defaults, with environment variables taking precedence

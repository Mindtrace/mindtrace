# Smoke Test Configuration
# Quick validation of basic camera functionality

name: smoke_test
description: Quick smoke test for basic camera operations

# API Configuration
api:
  base_url: http://localhost:8003
  timeout: 30.0

# Hardware Configuration
hardware:
  backend: Basler  # Options: GenICam, Basler, OpenCV
  camera_count: 1

# Expectations
expectations:
  total_timeout: 60.0
  timeout_per_operation: 15.0
  expected_success_rate: 1.0  # 100% success expected

# Tags
tags:
  - smoke
  - quick
  - validation

# Test Operations
operations:
  - action: discover
    payload:
      backend: Basler
    timeout: 10.0
    store_result: cameras

  - action: open
    payload:
      camera: "$cameras[0]"
      test_connection: true
    timeout: 15.0
    store_result: camera

  - action: configure
    payload:
      camera: "$cameras[0]"
      properties:
        exposure_time: 2000.0  # Aligned with CameraSettings.exposure_time
    timeout: 5.0

  - action: capture
    payload:
      camera: "$cameras[0]"
    timeout: 10.0

# Cleanup Operations (always run)
cleanup_operations:
  - action: close
    payload:
      camera: "$cameras[0]"
    timeout: 5.0

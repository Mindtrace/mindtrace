# =============================================================================
# Mindtrace Camera Service - Environment Configuration
# =============================================================================
# Copy this file to .env and customize for your deployment
# Usage: docker-compose -f docker-compose.camera.yml up
# =============================================================================

# -----------------------------------------------------------------------------
# Service Configuration
# -----------------------------------------------------------------------------
CAMERA_API_HOST=0.0.0.0
CAMERA_API_PORT=8002
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Camera Settings
# -----------------------------------------------------------------------------
# Max concurrent captures (critical for GigE bandwidth management)
MINDTRACE_HW_CAMERA_MAX_CONCURRENT_CAPTURES=3

# Capture retry and timeout settings
MINDTRACE_HW_CAMERA_RETRY_COUNT=3
MINDTRACE_HW_CAMERA_TIMEOUT=10

# Default camera parameters
MINDTRACE_HW_CAMERA_DEFAULT_EXPOSURE=1000
MINDTRACE_HW_CAMERA_GAIN=1.0
MINDTRACE_HW_CAMERA_TRIGGER_MODE=continuous

# Image quality enhancement
MINDTRACE_HW_CAMERA_IMAGE_QUALITY=true

# -----------------------------------------------------------------------------
# Backend Enablement
# -----------------------------------------------------------------------------
MINDTRACE_HW_CAMERA_OPENCV_ENABLED=true
MINDTRACE_HW_CAMERA_BASLER_ENABLED=false
MINDTRACE_HW_CAMERA_GENICAM_ENABLED=false

# -----------------------------------------------------------------------------
# OpenCV Camera Settings
# -----------------------------------------------------------------------------
MINDTRACE_HW_CAMERA_OPENCV_WIDTH=1920
MINDTRACE_HW_CAMERA_OPENCV_HEIGHT=1080
MINDTRACE_HW_CAMERA_OPENCV_FPS=30

# -----------------------------------------------------------------------------
# Basler Camera Settings (for GigE cameras)
# -----------------------------------------------------------------------------
# Multicast streaming configuration
MINDTRACE_HW_CAMERA_BASLER_MULTICAST_ENABLED=true
MINDTRACE_HW_CAMERA_BASLER_MULTICAST_GROUP=239.192.1.1
MINDTRACE_HW_CAMERA_BASLER_MULTICAST_PORT=3956

# Target IPs for Basler camera discovery (comma-separated)
# Example: 192.168.1.100,192.168.1.101
MINDTRACE_HW_CAMERA_BASLER_TARGET_IPS=

# Bandwidth and packet settings
MINDTRACE_HW_CAMERA_BASLER_BANDWIDTH_LIMIT=125000000
MINDTRACE_HW_CAMERA_BASLER_PACKET_SIZE=9000

# -----------------------------------------------------------------------------
# GenICam Camera Settings
# -----------------------------------------------------------------------------
# CTI file path for GenICam Producer
GENICAM_CTI_PATH=/opt/ImpactAcquire/lib/x86_64/mvGenTLProducer.cti

# Image quality enhancement for GenICam
MINDTRACE_HW_CAMERA_GENICAM_IMAGE_QUALITY_ENHANCEMENT=true

# GenICam timeout and buffer settings
MINDTRACE_HW_CAMERA_GENICAM_TIMEOUT=5000
MINDTRACE_HW_CAMERA_GENICAM_BUFFER_COUNT=10

# -----------------------------------------------------------------------------
# Network Settings
# -----------------------------------------------------------------------------
# Jumbo frames for GigE cameras (requires network configuration)
MINDTRACE_HW_NETWORK_JUMBO_FRAMES_ENABLED=true

# Multicast support
MINDTRACE_HW_NETWORK_MULTICAST_ENABLED=true

# Network interface for camera communication (e.g., eth0, enp0s31f6)
MINDTRACE_HW_NETWORK_INTERFACE=eth0

# Network timeouts
MINDTRACE_HW_NETWORK_TIMEOUT_SECONDS=10
MINDTRACE_HW_NETWORK_RETRY_COUNT=3

# Camera IP range for network communication
MINDTRACE_HW_NETWORK_CAMERA_IP_RANGE=192.168.1.0/24

# -----------------------------------------------------------------------------
# Storage Paths
# -----------------------------------------------------------------------------
MINDTRACE_HW_PATHS_LOG_DIR=/app/logs
MINDTRACE_HW_PATHS_CONFIG_DIR=/app/config
MINDTRACE_HW_PATHS_CACHE_DIR=/app/data
MINDTRACE_HW_PATHS_LIB_DIR=/opt

# -----------------------------------------------------------------------------
# GCS Storage (Optional - for cloud uploads)
# -----------------------------------------------------------------------------
MINDTRACE_HW_GCS_ENABLED=false
MINDTRACE_HW_GCS_BUCKET_NAME=
MINDTRACE_HW_GCS_CREDENTIALS_PATH=
MINDTRACE_HW_GCS_AUTO_UPLOAD=false

# -----------------------------------------------------------------------------
# Advanced Settings
# -----------------------------------------------------------------------------
# Pixel format (BGR8, RGB8, Mono8, etc.)
MINDTRACE_HW_CAMERA_PIXEL_FORMAT=BGR8

# Frame buffer count
MINDTRACE_HW_CAMERA_BUFFER_COUNT=10

# Mock cameras for testing
MINDTRACE_HW_CAMERA_MOCK_ENABLED=false
MINDTRACE_HW_CAMERA_MOCK_COUNT=0